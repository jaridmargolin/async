!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).Async={})}(this,(function(t){"use strict";function e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function i(t,e){return t(e={exports:{}},e.exports),e.exports}var u=function(t){return t&&t.Math==Math&&t},c=u("object"==typeof globalThis&&globalThis)||u("object"==typeof window&&window)||u("object"==typeof self&&self)||u("object"==typeof o&&o)||Function("return this")(),a=function(t){try{return!!t()}catch(t){return!0}},s=!a((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),f=function(t){return"object"==typeof t?null!==t:"function"==typeof t},l=c.document,p=f(l)&&f(l.createElement),h=function(t){return p?l.createElement(t):{}},v=!s&&!a((function(){return 7!=Object.defineProperty(h("div"),"a",{get:function(){return 7}}).a})),d=function(t){if(!f(t))throw TypeError(String(t)+" is not an object");return t},y=function(t,e){if(!f(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!f(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!f(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!f(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},m=Object.defineProperty,g={f:s?m:function(t,e,n){if(d(t),e=y(e,!0),d(n),v)try{return m(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},b=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},E=s?function(t,e,n){return g.f(t,e,b(1,n))}:function(t,e,n){return t[e]=n,t},_=function(t,e){try{E(c,t,e)}catch(n){c[t]=e}return e},S=c["__core-js_shared__"]||_("__core-js_shared__",{}),j=i((function(t){(t.exports=function(t,e){return S[t]||(S[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.0",mode:"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})})),T={}.hasOwnProperty,w=function(t,e){return T.call(t,e)},O=0,P=Math.random(),D=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++O+P).toString(36)},A=!!Object.getOwnPropertySymbols&&!a((function(){return!String(Symbol())})),x=A&&!Symbol.sham&&"symbol"==typeof Symbol(),M=j("wks"),R=c.Symbol,L=x?R:D,k=function(t){return w(M,t)||(A&&w(R,t)?M[t]=R[t]:M[t]=L("Symbol."+t)),M[t]},N={};N[k("toStringTag")]="z";var I="[object z]"===String(N),C=Function.toString;"function"!=typeof S.inspectSource&&(S.inspectSource=function(t){return C.call(t)});var F,U,Y,z,G=S.inspectSource,q=c.WeakMap,V="function"==typeof q&&/native code/.test(G(q)),J=j("keys"),W={},K=c.WeakMap;if(V){var B=new K,H=B.get,Q=B.has,X=B.set;F=function(t,e){return X.call(B,t,e),e},U=function(t){return H.call(B,t)||{}},Y=function(t){return Q.call(B,t)}}else{var Z=J[z="state"]||(J[z]=D(z));W[Z]=!0,F=function(t,e){return E(t,Z,e),e},U=function(t){return w(t,Z)?t[Z]:{}},Y=function(t){return w(t,Z)}}var $={set:F,get:U,has:Y,enforce:function(t){return Y(t)?U(t):F(t,{})},getterFor:function(t){return function(e){var n;if(!f(e)||(n=U(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}},tt=i((function(t){var e=$.get,n=$.enforce,r=String(String).split("String");(t.exports=function(t,e,o,i){var u=!!i&&!!i.unsafe,a=!!i&&!!i.enumerable,s=!!i&&!!i.noTargetGet;"function"==typeof o&&("string"!=typeof e||w(o,"name")||E(o,"name",e),n(o).source=r.join("string"==typeof e?e:"")),t!==c?(u?!s&&t[e]&&(a=!0):delete t[e],a?t[e]=o:E(t,e,o)):a?t[e]=o:_(e,o)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||G(this)}))})),et={}.toString,nt=function(t){return et.call(t).slice(8,-1)},rt=k("toStringTag"),ot="Arguments"==nt(function(){return arguments}()),it=I?nt:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),rt))?n:ot?nt(e):"Object"==(r=nt(e))&&"function"==typeof e.callee?"Arguments":r},ut=I?{}.toString:function(){return"[object "+it(this)+"]"};I||tt(Object.prototype,"toString",ut,{unsafe:!0});var ct={}.propertyIsEnumerable,at=Object.getOwnPropertyDescriptor,st={f:at&&!ct.call({1:2},1)?function(t){var e=at(this,t);return!!e&&e.enumerable}:ct},ft="".split,lt=a((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==nt(t)?ft.call(t,""):Object(t)}:Object,pt=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},ht=function(t){return lt(pt(t))},vt=Object.getOwnPropertyDescriptor,dt={f:s?vt:function(t,e){if(t=ht(t),e=y(e,!0),v)try{return vt(t,e)}catch(t){}if(w(t,e))return b(!st.f.call(t,e),t[e])}},yt=c,mt=function(t){return"function"==typeof t?t:void 0},gt=function(t,e){return arguments.length<2?mt(yt[t])||mt(c[t]):yt[t]&&yt[t][e]||c[t]&&c[t][e]},bt=Math.ceil,Et=Math.floor,_t=function(t){return isNaN(t=+t)?0:(t>0?Et:bt)(t)},St=Math.min,jt=function(t){return t>0?St(_t(t),9007199254740991):0},Tt=Math.max,wt=Math.min,Ot=function(t){return function(e,n,r){var o,i=ht(e),u=jt(i.length),c=function(t,e){var n=_t(t);return n<0?Tt(n+e,0):wt(n,e)}(r,u);if(t&&n!=n){for(;u>c;)if((o=i[c++])!=o)return!0}else for(;u>c;c++)if((t||c in i)&&i[c]===n)return t||c||0;return!t&&-1}},Pt={includes:Ot(!0),indexOf:Ot(!1)}.indexOf,Dt=function(t,e){var n,r=ht(t),o=0,i=[];for(n in r)!w(W,n)&&w(r,n)&&i.push(n);for(;e.length>o;)w(r,n=e[o++])&&(~Pt(i,n)||i.push(n));return i},At=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],xt=At.concat("length","prototype"),Mt={f:Object.getOwnPropertyNames||function(t){return Dt(t,xt)}},Rt={f:Object.getOwnPropertySymbols},Lt=gt("Reflect","ownKeys")||function(t){var e=Mt.f(d(t)),n=Rt.f;return n?e.concat(n(t)):e},kt=function(t,e){for(var n=Lt(e),r=g.f,o=dt.f,i=0;i<n.length;i++){var u=n[i];w(t,u)||r(t,u,o(e,u))}},Nt=/#|\.prototype\./,It=function(t,e){var n=Ft[Ct(t)];return n==Yt||n!=Ut&&("function"==typeof e?a(e):!!e)},Ct=It.normalize=function(t){return String(t).replace(Nt,".").toLowerCase()},Ft=It.data={},Ut=It.NATIVE="N",Yt=It.POLYFILL="P",zt=It,Gt=dt.f,qt=function(t,e){var n,r,o,i,u,a=t.target,s=t.global,f=t.stat;if(n=s?c:f?c[a]||_(a,{}):(c[a]||{}).prototype)for(r in e){if(i=e[r],o=t.noTargetGet?(u=Gt(n,r))&&u.value:n[r],!zt(s?r:a+(f?".":"#")+r,t.forced)&&void 0!==o){if(typeof i==typeof o)continue;kt(i,o)}(t.sham||o&&o.sham)&&E(i,"sham",!0),tt(n,r,i,t)}},Vt=c.Promise,Jt=g.f,Wt=k("toStringTag"),Kt=k("species"),Bt=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},Ht={},Qt=k("iterator"),Xt=Array.prototype,Zt=function(t,e,n){if(Bt(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}},$t=k("iterator"),te=function(t,e,n,r){try{return r?e(d(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&d(o.call(t)),e}},ee=i((function(t){var e=function(t,e){this.stopped=t,this.result=e};(t.exports=function(t,n,r,o,i){var u,c,a,s,f,l,p,h,v=Zt(n,r,o?2:1);if(i)u=t;else{if("function"!=typeof(c=function(t){if(null!=t)return t[$t]||t["@@iterator"]||Ht[it(t)]}(t)))throw TypeError("Target is not iterable");if(void 0!==(h=c)&&(Ht.Array===h||Xt[Qt]===h)){for(a=0,s=jt(t.length);s>a;a++)if((f=o?v(d(p=t[a])[0],p[1]):v(t[a]))&&f instanceof e)return f;return new e(!1)}u=c.call(t)}for(l=u.next;!(p=l.call(u)).done;)if("object"==typeof(f=te(u,v,p.value,o))&&f&&f instanceof e)return f;return new e(!1)}).stop=function(t){return new e(!0,t)}})),ne=k("iterator"),re=!1;try{var oe=0,ie={next:function(){return{done:!!oe++}},return:function(){re=!0}};ie[ne]=function(){return this},Array.from(ie,(function(){throw 2}))}catch(t){}var ue,ce,ae,se=k("species"),fe=function(t,e){var n,r=d(t).constructor;return void 0===r||null==(n=d(r)[se])?e:Bt(n)},le=gt("document","documentElement"),pe=gt("navigator","userAgent")||"",he=/(iphone|ipod|ipad).*applewebkit/i.test(pe),ve=c.location,de=c.setImmediate,ye=c.clearImmediate,me=c.process,ge=c.MessageChannel,be=c.Dispatch,Ee=0,_e={},Se=function(t){if(_e.hasOwnProperty(t)){var e=_e[t];delete _e[t],e()}},je=function(t){return function(){Se(t)}},Te=function(t){Se(t.data)},we=function(t){c.postMessage(t+"",ve.protocol+"//"+ve.host)};de&&ye||(de=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return _e[++Ee]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},ue(Ee),Ee},ye=function(t){delete _e[t]},"process"==nt(me)?ue=function(t){me.nextTick(je(t))}:be&&be.now?ue=function(t){be.now(je(t))}:ge&&!he?(ae=(ce=new ge).port2,ce.port1.onmessage=Te,ue=Zt(ae.postMessage,ae,1)):!c.addEventListener||"function"!=typeof postMessage||c.importScripts||a(we)?ue="onreadystatechange"in h("script")?function(t){le.appendChild(h("script")).onreadystatechange=function(){le.removeChild(this),Se(t)}}:function(t){setTimeout(je(t),0)}:(ue=we,c.addEventListener("message",Te,!1)));var Oe,Pe,De,Ae,xe,Me,Re,Le,ke={set:de,clear:ye},Ne=dt.f,Ie=ke.set,Ce=c.MutationObserver||c.WebKitMutationObserver,Fe=c.process,Ue=c.Promise,Ye="process"==nt(Fe),ze=Ne(c,"queueMicrotask"),Ge=ze&&ze.value;Ge||(Oe=function(){var t,e;for(Ye&&(t=Fe.domain)&&t.exit();Pe;){e=Pe.fn,Pe=Pe.next;try{e()}catch(t){throw Pe?Ae():De=void 0,t}}De=void 0,t&&t.enter()},Ye?Ae=function(){Fe.nextTick(Oe)}:Ce&&!he?(xe=!0,Me=document.createTextNode(""),new Ce(Oe).observe(Me,{characterData:!0}),Ae=function(){Me.data=xe=!xe}):Ue&&Ue.resolve?(Re=Ue.resolve(void 0),Le=Re.then,Ae=function(){Le.call(Re,Oe)}):Ae=function(){Ie.call(c,Oe)});var qe,Ve,Je=Ge||function(t){var e={fn:t,next:void 0};De&&(De.next=e),Pe||(Pe=e,Ae()),De=e},We=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=Bt(e),this.reject=Bt(n)},Ke={f:function(t){return new We(t)}},Be=function(t,e){if(d(t),f(e)&&e.constructor===t)return e;var n=Ke.f(t);return(0,n.resolve)(e),n.promise},He=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},Qe=c.process,Xe=Qe&&Qe.versions,Ze=Xe&&Xe.v8;Ze?Ve=(qe=Ze.split("."))[0]+qe[1]:pe&&(!(qe=pe.match(/Edge\/(\d+)/))||qe[1]>=74)&&(qe=pe.match(/Chrome\/(\d+)/))&&(Ve=qe[1]);var $e,tn,en,nn,rn,on,un,cn=Ve&&+Ve,an=ke.set,sn=k("species"),fn="Promise",ln=$.get,pn=$.set,hn=$.getterFor(fn),vn=Vt,dn=c.TypeError,yn=c.document,mn=c.process,gn=gt("fetch"),bn=Ke.f,En=bn,_n="process"==nt(mn),Sn=!!(yn&&yn.createEvent&&c.dispatchEvent),jn=zt(fn,(function(){if(!(G(vn)!==String(vn))){if(66===cn)return!0;if(!_n&&"function"!=typeof PromiseRejectionEvent)return!0}if(cn>=51&&/native code/.test(vn))return!1;var t=vn.resolve(1),e=function(t){t((function(){}),(function(){}))};return(t.constructor={})[sn]=e,!(t.then((function(){}))instanceof e)})),Tn=jn||!function(t,e){if(!e&&!re)return!1;var n=!1;try{var r={};r[ne]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n}((function(t){vn.all(t).catch((function(){}))})),wn=function(t){var e;return!(!f(t)||"function"!=typeof(e=t.then))&&e},On=function(t,e,n){if(!e.notified){e.notified=!0;var r=e.reactions;Je((function(){for(var o=e.value,i=1==e.state,u=0;r.length>u;){var c,a,s,f=r[u++],l=i?f.ok:f.fail,p=f.resolve,h=f.reject,v=f.domain;try{l?(i||(2===e.rejection&&xn(t,e),e.rejection=1),!0===l?c=o:(v&&v.enter(),c=l(o),v&&(v.exit(),s=!0)),c===f.promise?h(dn("Promise-chain cycle")):(a=wn(c))?a.call(c,p,h):p(c)):h(o)}catch(t){v&&!s&&v.exit(),h(t)}}e.reactions=[],e.notified=!1,n&&!e.rejection&&Dn(t,e)}))}},Pn=function(t,e,n){var r,o;Sn?((r=yn.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),c.dispatchEvent(r)):r={promise:e,reason:n},(o=c["on"+t])?o(r):"unhandledrejection"===t&&function(t,e){var n=c.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}("Unhandled promise rejection",n)},Dn=function(t,e){an.call(c,(function(){var n,r=e.value;if(An(e)&&(n=He((function(){_n?mn.emit("unhandledRejection",r,t):Pn("unhandledrejection",t,r)})),e.rejection=_n||An(e)?2:1,n.error))throw n.value}))},An=function(t){return 1!==t.rejection&&!t.parent},xn=function(t,e){an.call(c,(function(){_n?mn.emit("rejectionHandled",t):Pn("rejectionhandled",t,e.value)}))},Mn=function(t,e,n,r){return function(o){t(e,n,o,r)}},Rn=function(t,e,n,r){e.done||(e.done=!0,r&&(e=r),e.value=n,e.state=2,On(t,e,!0))},Ln=function(t,e,n,r){if(!e.done){e.done=!0,r&&(e=r);try{if(t===n)throw dn("Promise can't be resolved itself");var o=wn(n);o?Je((function(){var r={done:!1};try{o.call(n,Mn(Ln,t,r,e),Mn(Rn,t,r,e))}catch(n){Rn(t,r,n,e)}})):(e.value=n,e.state=1,On(t,e,!1))}catch(n){Rn(t,{done:!1},n,e)}}};jn&&(vn=function(t){!function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation")}(this,vn,fn),Bt(t),$e.call(this);var e=ln(this);try{t(Mn(Ln,this,e),Mn(Rn,this,e))}catch(t){Rn(this,e,t)}},($e=function(t){pn(this,{type:fn,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=function(t,e,n){for(var r in e)tt(t,r,e[r],n);return t}(vn.prototype,{then:function(t,e){var n=hn(this),r=bn(fe(this,vn));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=_n?mn.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&On(this,n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),tn=function(){var t=new $e,e=ln(t);this.promise=t,this.resolve=Mn(Ln,t,e),this.reject=Mn(Rn,t,e)},Ke.f=bn=function(t){return t===vn||t===en?new tn(t):En(t)},"function"==typeof Vt&&(nn=Vt.prototype.then,tt(Vt.prototype,"then",(function(t,e){var n=this;return new vn((function(t,e){nn.call(n,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof gn&&qt({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return Be(vn,gn.apply(c,arguments))}}))),qt({global:!0,wrap:!0,forced:jn},{Promise:vn}),on=fn,un=!1,(rn=vn)&&!w(rn=un?rn:rn.prototype,Wt)&&Jt(rn,Wt,{configurable:!0,value:on}),function(t){var e=gt(t),n=g.f;s&&e&&!e[Kt]&&n(e,Kt,{configurable:!0,get:function(){return this}})}(fn),en=gt(fn),qt({target:fn,stat:!0,forced:jn},{reject:function(t){var e=bn(this);return e.reject.call(void 0,t),e.promise}}),qt({target:fn,stat:!0,forced:jn},{resolve:function(t){return Be(this,t)}}),qt({target:fn,stat:!0,forced:Tn},{all:function(t){var e=this,n=bn(e),r=n.resolve,o=n.reject,i=He((function(){var n=Bt(e.resolve),i=[],u=0,c=1;ee(t,(function(t){var a=u++,s=!1;i.push(void 0),c++,n.call(e,t).then((function(t){s||(s=!0,i[a]=t,--c||r(i))}),o)})),--c||r(i)}));return i.error&&o(i.value),n.promise},race:function(t){var e=this,n=bn(e),r=n.reject,o=He((function(){var o=Bt(e.resolve);ee(t,(function(t){o.call(e,t).then(n.resolve,r)}))}));return o.error&&r(o.value),n.promise}}),qt({target:"Promise",proto:!0,real:!0,forced:!!Vt&&a((function(){Vt.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=fe(this,gt("Promise")),n="function"==typeof t;return this.then(n?function(n){return Be(e,t()).then((function(){return n}))}:t,n?function(n){return Be(e,t()).then((function(){throw n}))}:t)}}),"function"!=typeof Vt||Vt.prototype.finally||tt(Vt.prototype,"finally",gt("Promise").prototype.finally);var kn,Nn=function(){function t(t){e(this,"_promise",void 0),this._promise=new Promise(t)}var n=t.prototype;return n.then=function(t,e){return this._promise.then(t,e)},n.catch=function(t){return this._promise.catch(t)},n.finally=function(t){return this._promise.finally(t)},t}(),In=function(t){function o(){var n,o=function(){},i=function(){};return e(r(n=t.call(this,(function(t,e){o=t,i=e}))||this),"_resolve",void 0),e(r(n),"_reject",void 0),n._resolve=o,n._reject=i,n}n(o,t);var i=o.prototype;return i.resolve=function(t){this._resolve(t)},i.reject=function(t){this._reject(t)},o}(Nn);(kn=t.EventListenerStatus||(t.EventListenerStatus={}))[kn.PENDING=0]="PENDING",kn[kn.RESOLVED=1]="RESOLVED",kn[kn.REJECTED=2]="REJECTED";var Cn=function(o){function i(n,i){var u,c=function(){},a=function(){};return e(r(u=o.call(this,(function(t,e){c=t,a=e}))||this),"_status",void 0),e(r(u),"_resolve",void 0),e(r(u),"_reject",void 0),e(r(u),"_target",void 0),e(r(u),"_event",void 0),e(r(u),"_onEvent",void 0),u._resolve=c,u._reject=a,u._target=n,u._event=i,u._onEvent=function(e){u._status=t.EventListenerStatus.RESOLVED,u._target.off(u._event,u._onEvent),u._resolve(e)},u._status=t.EventListenerStatus.PENDING,u._target.on(u._event,u._onEvent),u}return n(i,o),i.create=function(t,e){return new i(t,e)},i.prototype.cancel=function(e){this._status=t.EventListenerStatus.REJECTED,this._target.off(this._event,this._onEvent),this._reject(e)},i}(Nn);qt({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}});var Fn=Date.prototype,Un=Fn.toString,Yn=Fn.getTime;new Date(NaN)+""!="Invalid Date"&&tt(Fn,"toString",(function(){var t=Yn.call(this);return t==t?Un.call(this):"Invalid Date"}));var zn,Gn=Object.keys||function(t){return Dt(t,At)},qn=function(t){return Object(pt(t))},Vn=Object.assign,Jn=Object.defineProperty,Wn=!Vn||a((function(){if(s&&1!==Vn({b:1},Vn(Jn({},"a",{enumerable:!0,get:function(){Jn(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol();return t[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(t){e[t]=t})),7!=Vn({},t)[n]||"abcdefghijklmnopqrst"!=Gn(Vn({},e)).join("")}))?function(t,e){for(var n=qn(t),r=arguments.length,o=1,i=Rt.f,u=st.f;r>o;)for(var c,a=lt(arguments[o++]),f=i?Gn(a).concat(i(a)):Gn(a),l=f.length,p=0;l>p;)c=f[p++],s&&!u.call(a,c)||(n[c]=a[c]);return n}:Vn;qt({target:"Object",stat:!0,forced:Object.assign!==Wn},{assign:Wn}),(zn=t.TimerStatus||(t.TimerStatus={}))[zn.READY=0]="READY",zn[zn.STARTED=1]="STARTED",zn[zn.PAUSED=2]="PAUSED",zn[zn.STOPPED=3]="STOPPED",zn[zn.COMPLETED=4]="COMPLETED";var Kn=function(o){function i(n){var i,u=function(){},c=function(){};return e(r(i=o.call(this,(function(t,e){u=t,c=e}))||this),"_state",void 0),e(r(i),"_resolve",void 0),e(r(i),"_reject",void 0),i._resolve=u,i._reject=c,i._state={status:t.TimerStatus.READY,duration:n},i}n(i,o),i.create=function(t){return new i(t)};var u=i.prototype;return u.set=function(e){return this._state.status===t.TimerStatus.STARTED&&(this.pause(),Object.assign(this._state,{duration:e}),this.start()),this._state.status!==t.TimerStatus.READY&&this._state.status!==t.TimerStatus.PAUSED||Object.assign(this._state,{duration:e}),this},u.start=function(){var e=this;return this._state.status!==t.TimerStatus.READY&&this._state.status!==t.TimerStatus.PAUSED||(this._state={status:t.TimerStatus.STARTED,start:Date.now(),duration:this._state.duration,timeout:setTimeout((function(){e._state={status:t.TimerStatus.COMPLETED,duration:null},e._resolve()}),this._state.duration)}),this},u.pause=function(){if(this._state.status===t.TimerStatus.STARTED){var e=Date.now()-this._state.start;clearTimeout(this._state.timeout),this._state={status:t.TimerStatus.PAUSED,duration:this._state.duration-e}}return this},u.stop=function(e){return this._state.status===t.TimerStatus.STARTED&&clearTimeout(this._state.timeout),this._state={status:t.TimerStatus.STOPPED,duration:null},e&&this._reject(e),this},i}(Nn);t.Deferred=In,t.EventListener=Cn,t.Promise=Nn,t.Timer=Kn,Object.defineProperty(t,"__esModule",{value:!0})}));
